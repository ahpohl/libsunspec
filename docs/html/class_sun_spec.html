<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>LIBSUNSPEC: SunSpec Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="SunSpec_logo.png"/></td>
  <td id="projectalign">
   <div id="projectname">LIBSUNSPEC<span id="projectnumber">&#160;v0.0.5</span>
   </div>
   <div id="projectbrief">A C++ library for the SunSpec protocol</div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('class_sun_spec.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a>  </div>
  <div class="headertitle"><div class="title">SunSpec Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Base class for <a class="el" href="class_sun_spec.html" title="Base class for SunSpec compatible inverters, meters and batteries.">SunSpec</a> compatible inverters, meters and batteries.  
 <a href="class_sun_spec.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="_sun_spec_8h_source.html">SunSpec.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for SunSpec:</div>
<div class="dyncontent">
 <div class="center">
  <img src="class_sun_spec.png" usemap="#SunSpec_map" alt=""/>
  <map id="SunSpec_map" name="SunSpec_map">
<area href="class_common_model.html" title="Class to manipulate Common Model registers." alt="CommonModel" shape="rect" coords="116,56,222,80"/>
<area href="class_extended_model.html" title="Class to manipulate Extended (Measurements_Status) Model registers." alt="ExtendedModel" shape="rect" coords="116,112,222,136"/>
<area href="class_fronius_register.html" title="Class to manipulate Fronius specific registers." alt="FroniusRegister" shape="rect" coords="116,168,222,192"/>
<area href="class_immediate_model.html" title="Class to manipulate Immediate Controls registers." alt="ImmediateModel" shape="rect" coords="116,224,222,248"/>
<area href="class_inverter_model.html" title="Class to manipulate Inverter Model registers." alt="InverterModel" shape="rect" coords="116,280,222,304"/>
<area href="class_meter_model.html" title="Class to manipulate Meter Model registers." alt="MeterModel" shape="rect" coords="116,336,222,360"/>
<area href="class_multi_mppt_model.html" title="Class to manipulate Multi MPPT Model registers." alt="MultiMpptModel" shape="rect" coords="116,392,222,416"/>
<area href="class_nameplate_model.html" title="Class to manipulate Nameplate Model registers." alt="NameplateModel" shape="rect" coords="116,448,222,472"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a1467b5d8f0b2ed71cf4d87a7bd095deb"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sun_spec.html#a1467b5d8f0b2ed71cf4d87a7bd095deb">SunSpec</a> (void)</td></tr>
<tr class="separator:a1467b5d8f0b2ed71cf4d87a7bd095deb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abcc14658161e0ac30413ceb711c637f0"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sun_spec.html#abcc14658161e0ac30413ceb711c637f0">~SunSpec</a> (void)</td></tr>
<tr class="separator:abcc14658161e0ac30413ceb711c637f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f382e3ea558a0f138f3a7e6401100f0"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sun_spec.html#a8f382e3ea558a0f138f3a7e6401100f0">GetErrorMessage</a> (void) const</td></tr>
<tr class="separator:a8f382e3ea558a0f138f3a7e6401100f0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae5b07c421e6b6f7a9526e9cada95678"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sun_spec.html#aae5b07c421e6b6f7a9526e9cada95678">ConnectModbusTcp</a> (const std::string &amp;ip_address, const int &amp;port=502)</td></tr>
<tr class="separator:aae5b07c421e6b6f7a9526e9cada95678"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab3622b01aae4ec3ef68286bf38d9c89d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sun_spec.html#ab3622b01aae4ec3ef68286bf38d9c89d">ConnectModbusRtu</a> (const std::string &amp;device, const int &amp;baud_rate=9600)</td></tr>
<tr class="separator:ab3622b01aae4ec3ef68286bf38d9c89d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4f2336b143aae98acdbf38b4bedfa5c0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sun_spec.html#a4f2336b143aae98acdbf38b4bedfa5c0">SetModbusDebug</a> (const bool &amp;debug)</td></tr>
<tr class="separator:a4f2336b143aae98acdbf38b4bedfa5c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9ec9175c826e98eb1c9ccc733dce247"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sun_spec.html#ad9ec9175c826e98eb1c9ccc733dce247">SetModbusAddress</a> (const int &amp;slave_id=1)</td></tr>
<tr class="separator:ad9ec9175c826e98eb1c9ccc733dce247"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adcb9e23c38a9daf4eecca1fd8c761985"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sun_spec.html#adcb9e23c38a9daf4eecca1fd8c761985">GetModbusAddress</a> (int &amp;slave_id)</td></tr>
<tr class="separator:adcb9e23c38a9daf4eecca1fd8c761985"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7cdca5e9f7e040c316bc3c83fd0d3b6d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sun_spec.html#a7cdca5e9f7e040c316bc3c83fd0d3b6d">SetResponseTimeout</a> (const int &amp;millis=200)</td></tr>
<tr class="separator:a7cdca5e9f7e040c316bc3c83fd0d3b6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6e24975f3361fa4709fea73fa78bb92"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sun_spec.html#ad6e24975f3361fa4709fea73fa78bb92">SetByteTimeout</a> (const int &amp;millis=200)</td></tr>
<tr class="separator:ad6e24975f3361fa4709fea73fa78bb92"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f368ec48bcad3d226ee2a0671e6ea42"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sun_spec.html#a0f368ec48bcad3d226ee2a0671e6ea42">GetResponseTimeout</a> (int &amp;millis)</td></tr>
<tr class="separator:a0f368ec48bcad3d226ee2a0671e6ea42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a190628565b9df0e02223967413699705"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sun_spec.html#a190628565b9df0e02223967413699705">GetByteTimeout</a> (int &amp;millis)</td></tr>
<tr class="separator:a190628565b9df0e02223967413699705"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9eeb1669de8f0a14fc26042bac481f14"><td class="memItemLeft" align="right" valign="top">template&lt;&gt; </td></tr>
<tr class="memitem:a9eeb1669de8f0a14fc26042bac481f14"><td class="memTemplItemLeft" align="right" valign="top">std::string&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_sun_spec.html#a9eeb1669de8f0a14fc26042bac481f14">ConvertRegister</a> (const uint16_t *tab_reg, const uint16_t &amp;size)</td></tr>
<tr class="separator:a9eeb1669de8f0a14fc26042bac481f14"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-methods" name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a5b2e4067c87eea837cd9608de95fc82d"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a5b2e4067c87eea837cd9608de95fc82d"><td class="memTemplItemLeft" align="right" valign="top">bool&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_sun_spec.html#a5b2e4067c87eea837cd9608de95fc82d">GetRegister</a> (T &amp;res, const uint16_t &amp;reg_addr, const uint16_t &amp;size)</td></tr>
<tr class="separator:a5b2e4067c87eea837cd9608de95fc82d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae474717401ee1c03c2213787de5106ef"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sun_spec.html#ae474717401ee1c03c2213787de5106ef">SetRegister</a> (const uint16_t &amp;value, const uint16_t &amp;reg_addr)</td></tr>
<tr class="separator:ae474717401ee1c03c2213787de5106ef"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pro-attribs" name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a880adf4d5d9678345bdae3e450c7b4cd"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sun_spec.html#a880adf4d5d9678345bdae3e450c7b4cd">ErrorMessage</a></td></tr>
<tr class="separator:a880adf4d5d9678345bdae3e450c7b4cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-methods" name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a275e1ba1a759747656dde56d206460bd"><td class="memItemLeft" align="right" valign="top">uint16_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sun_spec.html#a275e1ba1a759747656dde56d206460bd">ReadRegister</a> (const uint16_t &amp;address, const uint16_t &amp;size)</td></tr>
<tr class="separator:a275e1ba1a759747656dde56d206460bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1598a25ab35b4038821a30af1f283410"><td class="memTemplParams" colspan="2">template&lt;typename T &gt; </td></tr>
<tr class="memitem:a1598a25ab35b4038821a30af1f283410"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="class_sun_spec.html#a1598a25ab35b4038821a30af1f283410">ConvertRegister</a> (const uint16_t *tab_reg, const uint16_t &amp;size)</td></tr>
<tr class="separator:a1598a25ab35b4038821a30af1f283410"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-attribs" name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a470562f55ce71df18ac07a25f0337e0b"><td class="memItemLeft" align="right" valign="top">modbus_t *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="class_sun_spec.html#a470562f55ce71df18ac07a25f0337e0b">Ctx</a></td></tr>
<tr class="separator:a470562f55ce71df18ac07a25f0337e0b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Base class for <a class="el" href="class_sun_spec.html" title="Base class for SunSpec compatible inverters, meters and batteries.">SunSpec</a> compatible inverters, meters and batteries. </p>
<pre class="fragment">       Supports both Modbus TCP and Modbus RTU protocols.
</pre> <dl class="section author"><dt>Author</dt><dd>Alexander Pohl <a href="#" onclick="location.href='mai'+'lto:'+'ale'+'x@'+'ahp'+'oh'+'l.c'+'om'; return false;">alex@<span class="obfuscator">.nosp@m.</span>ahpo<span class="obfuscator">.nosp@m.</span>hl.co<span class="obfuscator">.nosp@m.</span>m</a> </dd></dl>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a1467b5d8f0b2ed71cf4d87a7bd095deb" name="a1467b5d8f0b2ed71cf4d87a7bd095deb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1467b5d8f0b2ed71cf4d87a7bd095deb">&#9670;&#160;</a></span>SunSpec()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">SunSpec::SunSpec </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p><a class="el" href="class_sun_spec.html" title="Base class for SunSpec compatible inverters, meters and batteries.">SunSpec</a> class constructor </p>

</div>
</div>
<a id="abcc14658161e0ac30413ceb711c637f0" name="abcc14658161e0ac30413ceb711c637f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abcc14658161e0ac30413ceb711c637f0">&#9670;&#160;</a></span>~SunSpec()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">SunSpec::~SunSpec </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p><a class="el" href="class_sun_spec.html" title="Base class for SunSpec compatible inverters, meters and batteries.">SunSpec</a> class destructor </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab3622b01aae4ec3ef68286bf38d9c89d" name="ab3622b01aae4ec3ef68286bf38d9c89d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab3622b01aae4ec3ef68286bf38d9c89d">&#9670;&#160;</a></span>ConnectModbusRtu()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SunSpec::ConnectModbusRtu </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>device</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>baud_rate</em> = <code>9600</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a libmodbus context for RTU serial</p>
<p>The <a class="el" href="class_sun_spec.html#ab3622b01aae4ec3ef68286bf38d9c89d">ConnectModbusRtu()</a> function shall allocate and initialize a modbus_t structure to communicate in RTU mode on a serial line.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">device</td><td>device specifies the name of the serial port </td></tr>
    <tr><td class="paramname">baud_rate</td><td>baud rate (9600 or 19200) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aae5b07c421e6b6f7a9526e9cada95678" name="aae5b07c421e6b6f7a9526e9cada95678"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aae5b07c421e6b6f7a9526e9cada95678">&#9670;&#160;</a></span>ConnectModbusTcp()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SunSpec::ConnectModbusTcp </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>ip_address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>port</em> = <code>502</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Create a libmodbus context for TCP/IPv4</p>
<p>The <a class="el" href="class_sun_spec.html#aae5b07c421e6b6f7a9526e9cada95678">ConnectModbusTcp()</a> function shall allocate and initialize a modbus_t structure to communicate with a Modbus TCP IPv4 server.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ip_address</td><td>IP address of the server to which the client wants to establish a connection </td></tr>
    <tr><td class="paramname">port</td><td>port argument is the TCP port to use </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a1598a25ab35b4038821a30af1f283410" name="a1598a25ab35b4038821a30af1f283410"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1598a25ab35b4038821a30af1f283410">&#9670;&#160;</a></span>ConvertRegister() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">T SunSpec::ConvertRegister </td>
          <td>(</td>
          <td class="paramtype">const uint16_t *&#160;</td>
          <td class="paramname"><em>tab_reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t &amp;&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Convert raw Modbus registers to usable values</p>
<dl class="section return"><dt>Returns</dt><dd>number or string (template T) </dd></dl>

</div>
</div>
<a id="a9eeb1669de8f0a14fc26042bac481f14" name="a9eeb1669de8f0a14fc26042bac481f14"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9eeb1669de8f0a14fc26042bac481f14">&#9670;&#160;</a></span>ConvertRegister() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;&gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">float SunSpec::ConvertRegister </td>
          <td>(</td>
          <td class="paramtype">const uint16_t *&#160;</td>
          <td class="paramname"><em>tab_reg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t &amp;&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Convert raw Modbus registers to string</p>
<p>Convert raw Modbus registers to float </p>

</div>
</div>
<a id="a190628565b9df0e02223967413699705" name="a190628565b9df0e02223967413699705"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a190628565b9df0e02223967413699705">&#9670;&#160;</a></span>GetByteTimeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SunSpec::GetByteTimeout </td>
          <td>(</td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>millis</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get timeout between bytes [ms] </p>

</div>
</div>
<a id="a8f382e3ea558a0f138f3a7e6401100f0" name="a8f382e3ea558a0f138f3a7e6401100f0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8f382e3ea558a0f138f3a7e6401100f0">&#9670;&#160;</a></span>GetErrorMessage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string SunSpec::GetErrorMessage </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Return the error message (if any) </p>

</div>
</div>
<a id="adcb9e23c38a9daf4eecca1fd8c761985" name="adcb9e23c38a9daf4eecca1fd8c761985"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adcb9e23c38a9daf4eecca1fd8c761985">&#9670;&#160;</a></span>GetModbusAddress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SunSpec::GetModbusAddress </td>
          <td>(</td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>slave_id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Reads Modbus device address (slave ID)</p>
<dl class="section return"><dt>Returns</dt><dd>: 1-247 </dd></dl>

</div>
</div>
<a id="a5b2e4067c87eea837cd9608de95fc82d" name="a5b2e4067c87eea837cd9608de95fc82d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5b2e4067c87eea837cd9608de95fc82d">&#9670;&#160;</a></span>GetRegister()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">template bool SunSpec::GetRegister </td>
          <td>(</td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>res</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t &amp;&#160;</td>
          <td class="paramname"><em>reg_addr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t &amp;&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Get a Modbus register and convert to number or string</p>
<p>Method automatically converts the raw register value(s) to the destination format specified in the res parameter. Supported register types are:</p>
<p>T: int16_t, uint16_t, uint32_t, uint64_t, std::string</p>
<dl class="section return"><dt>Returns</dt><dd>number or string (template T) </dd></dl>

</div>
</div>
<a id="a0f368ec48bcad3d226ee2a0671e6ea42" name="a0f368ec48bcad3d226ee2a0671e6ea42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0f368ec48bcad3d226ee2a0671e6ea42">&#9670;&#160;</a></span>GetResponseTimeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SunSpec::GetResponseTimeout </td>
          <td>(</td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>millis</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Get timeout for response [ms] </p>

</div>
</div>
<a id="a275e1ba1a759747656dde56d206460bd" name="a275e1ba1a759747656dde56d206460bd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a275e1ba1a759747656dde56d206460bd">&#9670;&#160;</a></span>ReadRegister()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t * SunSpec::ReadRegister </td>
          <td>(</td>
          <td class="paramtype">const uint16_t &amp;&#160;</td>
          <td class="paramname"><em>address</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t &amp;&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Read raw Modbus registers from the device</p>
<dl class="section return"><dt>Returns</dt><dd>pointer to an array with the register values </dd></dl>

</div>
</div>
<a id="ad6e24975f3361fa4709fea73fa78bb92" name="ad6e24975f3361fa4709fea73fa78bb92"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6e24975f3361fa4709fea73fa78bb92">&#9670;&#160;</a></span>SetByteTimeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SunSpec::SetByteTimeout </td>
          <td>(</td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>millis</em> = <code>200</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set timeout between bytes</p>
<p>The <a class="el" href="class_sun_spec.html#ad6e24975f3361fa4709fea73fa78bb92">SetByteTimeout()</a> function shall set the timeout interval between two consecutive bytes of the same message. The timeout is an upper bound on the amount of time elapsed before select() returns, if the time elapsed is longer than the defined timeout, an ETIMEDOUT error will be raised by the function waiting for a response.</p>
<p>If millis is zero, this timeout will not be used at all. In this case, <a class="el" href="class_sun_spec.html#a7cdca5e9f7e040c316bc3c83fd0d3b6d">SetResponseTimeout()</a> governs the entire handling of the response, the full confirmation response must be received before expiration of the response timeout. When a byte timeout is set, the response timeout is only used to wait for until the first byte of the response.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">millis</td><td>[ms], default 200 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad9ec9175c826e98eb1c9ccc733dce247" name="ad9ec9175c826e98eb1c9ccc733dce247"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad9ec9175c826e98eb1c9ccc733dce247">&#9670;&#160;</a></span>SetModbusAddress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SunSpec::SetModbusAddress </td>
          <td>(</td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>slave_id</em> = <code>1</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Sets the Modbus device address (slave ID)</p>
<p>The <a class="el" href="class_sun_spec.html#ad9ec9175c826e98eb1c9ccc733dce247">SetModbusAddress()</a> function sets the slave number in the libmodbus context. It is usually only required to set the slave ID in RTU. The meaning of this ID will be different if your program acts as client (master) or server (slave).</p>
<p>As RTU client, <a class="el" href="class_sun_spec.html#ad9ec9175c826e98eb1c9ccc733dce247">SetModbusAddress()</a> sets the ID of the remote device you want to communicate. Be sure to set the slave ID before issuing any Modbus requests on the serial bus. If you communicate with several servers (slaves), you can set the slave ID of the remote device before each request.</p>
<p>In TCP, the slave number is only required if the message must reach a device on a serial network.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">slave_id</td><td>Modbus device address (1-247), default (1) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4f2336b143aae98acdbf38b4bedfa5c0" name="a4f2336b143aae98acdbf38b4bedfa5c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4f2336b143aae98acdbf38b4bedfa5c0">&#9670;&#160;</a></span>SetModbusDebug()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void SunSpec::SetModbusDebug </td>
          <td>(</td>
          <td class="paramtype">const bool &amp;&#160;</td>
          <td class="paramname"><em>debug</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set/clear debug flag of the Modbus context (very verbose) </p>

</div>
</div>
<a id="ae474717401ee1c03c2213787de5106ef" name="ae474717401ee1c03c2213787de5106ef"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae474717401ee1c03c2213787de5106ef">&#9670;&#160;</a></span>SetRegister()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool SunSpec::SetRegister </td>
          <td>(</td>
          <td class="paramtype">const uint16_t &amp;&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t &amp;&#160;</td>
          <td class="paramname"><em>reg_addr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Set a single Modbus register (function 0x06) </p>

</div>
</div>
<a id="a7cdca5e9f7e040c316bc3c83fd0d3b6d" name="a7cdca5e9f7e040c316bc3c83fd0d3b6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7cdca5e9f7e040c316bc3c83fd0d3b6d">&#9670;&#160;</a></span>SetResponseTimeout()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool SunSpec::SetResponseTimeout </td>
          <td>(</td>
          <td class="paramtype">const int &amp;&#160;</td>
          <td class="paramname"><em>millis</em> = <code>200</code></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Set timeout for response</p>
<p>The <a class="el" href="class_sun_spec.html#a7cdca5e9f7e040c316bc3c83fd0d3b6d">SetResponseTimeout()</a> function shall set the timeout interval used to wait for a response. When a byte timeout is set, if elapsed time for the first byte of response is longer than the given timeout, an ETIMEDOUT error will be raised by the function waiting for a response. When byte timeout is disabled, the full confirmation response must be received before expiration of the response timeout.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">millis</td><td>[ms], default 200 </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Field Documentation</h2>
<a id="a470562f55ce71df18ac07a25f0337e0b" name="a470562f55ce71df18ac07a25f0337e0b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a470562f55ce71df18ac07a25f0337e0b">&#9670;&#160;</a></span>Ctx</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">modbus_t* SunSpec::Ctx</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Structure that holds the Modbus connection </p>

</div>
</div>
<a id="a880adf4d5d9678345bdae3e450c7b4cd" name="a880adf4d5d9678345bdae3e450c7b4cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a880adf4d5d9678345bdae3e450c7b4cd">&#9670;&#160;</a></span>ErrorMessage</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">std::string SunSpec::ErrorMessage</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>String to hold the error message </p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>include/<a class="el" href="_sun_spec_8h_source.html">SunSpec.h</a></li>
<li>src/SunSpec.cpp</li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="class_sun_spec.html">SunSpec</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
